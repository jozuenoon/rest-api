# FinTech API

This repository intention is to demonstrate building REST API using `protobuf` and `grpc-gateway`.

PDF file with API description is generated from swagger documentation from `grpc-gateway` with some additional notes, but for best experience please use swagger api json directly `paymentapi/api.swagger.json`. Response codes should align with those generated by `grpc-gateway` in most cases.

Models and original design are defined with protobuf file and yaml http annotations under `paymentapi/api.proto` and `paymentapi/payment_service.yaml`.

Implementation of service is located under `paymentservice`.

Server runtime is can be found under `cmd` directory.

# Testing

Tests are BDD based tests with `ginkgo`, please run `make test`.

# Client

Client is generated form swagger definition.

# Tracing

Using Jaeger it's possible to trace requests, please run:

```bash
docker run -d -p 6831:6831/udp -p 16686:16686 jaegertracing/all-in-one:latest
```

# TODO

* add middleware for authorization and authentication,
* add input validation eg. with https://github.com/mwitkow/go-proto-validators,
* add proper authentication and authorization,
* make swagger documentation better, this requires writing annotations in proto file unfortunately, since only `http` annotation is supported with yaml files,
* add Dockerfile,
* write helm chart for K8S deployment,
* configure TLS if it's not terminated on LB or Ingress,
* add more options for configuration.